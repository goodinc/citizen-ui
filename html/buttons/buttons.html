<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>Buttons / Good</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="http://fast.fonts.net/cssapi/f90e5d12-8fa4-47b1-a316-b233141d7f51.css" />
  <link rel="stylesheet" href="../../assets/shared.css" />

  <style>
    form h6 {
      margin-bottom: 0;
    }
    form h6 + p {
      margin-top: 0.4375em !important;
    }

    .no-touch .hover .doing h6,
    .no-touch .hover .following h6 {
      position: absolute;
      left: -9999px;
    }
    .no-touch .hover .doing button,
    .no-touch .hover .following button {
      position: relative;
    }
    .no-touch .hover .doing button span,
    .no-touch .hover .following button span {
      opacity: 0;
    }
    .no-touch .hover .doing button:after,
    .no-touch .hover .following button:after {
      content: attr(title);
      display: block;
      color: white;
      position: absolute;
      top: 0;
      left: 0;
      padding-top: 0.75em; /* Button padding */
      width: 100%;
      text-align: center;
    }

    .no-touch .hover .doing button:hover  span,
    .no-touch .hover .doing button:active span,
    .no-touch .hover .doing button:focus  span,
    .no-touch .hover .following button:hover  span,
    .no-touch .hover .following button:active span,
    .no-touch .hover .following button:focus  span {
      opacity: 1;
    }
    .no-touch .hover .doing button:hover:after,
    .no-touch .hover .doing button:active:after,
    .no-touch .hover .doing button:focus:after,
    .no-touch .hover .following button:hover:after,
    .no-touch .hover .following button:active:after,
    .no-touch .hover .following button:focus:after {
      opacity: 0;
    }
  </style>

  <script>
    if (!("ontouchstart" in document.documentElement)) {
      document.documentElement.className += " no-touch";
    }
  </script>

  <style>

    .toggle .scripted.doing     h6,
    .toggle .scripted.following h6 {
      display: inline-block;
      font-size: inherit;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; /* @helvetica */
      background-color: rgb(113, 179, 247);
      color: white;
      cursor: pointer;
      border-width: 0;
      text-decoration: none;
      font-weight: bold;

      line-height: 1.5em;
      padding: 0.75em 1.5em;
      transition: color 0.2s, background-color 0.2s, opacity 0.2s;

      background-color: rgb(219, 220, 224);

      /* TBD: Should headlines be italic? */
      font-style: inherit;
    }

    .toggle .scripted.doing     h6 {
      background-color: rgb(130, 242, 206);
    }


    .toggle .scripted.doing     h6:hover,
    .toggle .scripted.doing     h6:active,
    .toggle .scripted.doing     h6:focus {
      background-color: rgb(110, 222, 186);
    }
    .toggle .scripted.following h6:hover,
    .toggle .scripted.following h6:active,
    .toggle .scripted.following h6:focus {
      background-color: rgb(200, 200, 200);
    }

    /*
    .toggle .scripted.doing     form,
    .toggle .scripted.following form {
      margin-top: 0;
      background: white;
      box-shadow: 0 0 0.25em rgba(0, 0, 0, 0.15);
      padding: 1.75em;
      text-align: center;
      position: absolute;
      z-index: 9999;
    }
    */

    .toggle .scripted.doing     div,
    .toggle .scripted.following div {
      position: absolute;
      z-index: 9999;
      background: white;
      text-align: center;
      border: 1px solid black;
      transition: opacity 0.2s;
      box-shadow: 0 0 0.25em rgba(0, 0, 0, 0.125);
      padding: 0.875em 0;
      margin-top: 0.875em;
      margin-left: -1.75em;
    }
    .toggle .scripted.following div {
      margin-left: -0.875em;
    }
    .toggle .scripted.doing     button,
    .toggle .scripted.following button {
      background: transparent;
      color: rgb(113, 179, 247);
      color: rgb(49, 144, 242);
      padding: 0;
      font-weight: inherit;
      min-width: 5em;
    }
    .toggle .scripted.doing     p,
    .toggle .scripted.following p {
      margin: 0;
      /*
      border-bottom: 1px solid rgb(243, 243, 243);
      
      padding-bottom: 0.875em;*/ /* @line-height / 2 */
      padding-left: 1.75em;
      padding-right: 1.75em;
    }
    .toggle .scripted.doing     p + p,
    .toggle .scripted.following p + p {
      margin-top:  0.875em; /* @line-height / 2 */
      border-top: 1px solid rgb(243, 243, 243);
      padding-top: 0.875em; /* @line-height / 2 */
    }
    .toggle .scripted.doing     button:hover,
    .toggle .scripted.doing     button:active,
    .toggle .scripted.doing     button:focus,
    .toggle .scripted.following button:hover,
    .toggle .scripted.following button:active,
    .toggle .scripted.following button:focus {
      color: rgb(153, 153, 153);
    }
    .toggle .scripted.doing     a,
    .toggle .scripted.following a {
      text-decoration: none;
      color: rgb(247, 157, 130);
    }
    .toggle .scripted.doing     a:hover,
    .toggle .scripted.doing     a:active,
    .toggle .scripted.doing     a:focus,
    .toggle .scripted.following a:hover,
    .toggle .scripted.following a:active,
    .toggle .scripted.following a:focus {
      color: rgb(247, 113, 113);
    }
    .toggle .scripted.doing     div:after,
    .toggle .scripted.following div:after {
      content: "";
      background: url(../../assets/shared/misc/pointer-dark-stroke.png);
      position: absolute;
      top: -11px;
      left: 50%;
      margin-left: -10px;
      width: 20px;
      height: 13px;
    }

    .toggle .summary.doing     div,
    .toggle .summary.following div {
      left: -9999px;
    }

  </style>

</head>
<body class="pattern">

<section class="hover">
  <h2>Hover</h2>
  <ul class="activity-list">
    <li>
      <section class="activity-item" data-slug="pre-order-a-new-book-by-matthew-manos-of-verynice" data-spam="false" data-title="Pre-order a new book by Matthew Manos (of verynice)">
        <p class="source has-image">
          <a href="member.html">
            <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fimage-cache.good.is%2Favatars%2F1851962%2Foriginal%2FMatt2.jpeg%3F1346285103&amp;geometry=60x60%23" alt="" width="60" height="60" />
            Matthew Manos
          </a>
          did this
        </p>
        <p class="time">
          <time datetime="2013-12-16T01:09:57Z">
            <abbr title="3 weeks ago">
              3 w
            </abbr>
          </time>
        </p>
        <section class="post do">
          <h3 class=" has-image">
            <a href="post.html">
              <span class="image">
                <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Factions%2Fphotos%2F000%2F256%2F362%2Foriginal%2F20130907153915-IndieGoGo_Cover.jpg&amp;geometry=100x100%23" alt="" width="100" height="100" />
              </span>
              Pre-order a new book by Matthew Manos (of verynice)
            </a>
          </h3>
          <div class="meta">
            <p class="dos">
              <abbr title="4 people want to do this">
                4
              </abbr>
            </p>
          </div>
          <form action="" method="post" class="doing">
            <h6>You’re doing this</h6>
            <p><button type="submit" title="To Do"><span>Done</span></button></p>
          </form>
        </section>
      </section>
    </li>
    <li>
      <section class="activity-item">
        <p class="source has-image">
          <a href="member.html"><img src="http://images-3.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F860%2F698%2Foriginal%2FAttachment-1.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"> Adele Peters</a> is now following…
        </p>
        <p class="time">
          <time datetime="2013-12-16T22:46:27Z">
            <abbr title="5 weeks ago">5 w</abbr>
          </time>
        </p>
        <section class="follow">
          <h3 class="has-image">
            <a href="/members/kcrepeau"><span class="image"><img src="http://images-2.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F127%2F174%2Foriginal%2FKatie_18_sq.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"></span> Katie Crepeau</a>
          </h3>
          <div class="meta">
            <p>32 Followers</p>
          </div>
          <p class="introduction">architect, blogger, health nut, happiness builder</p>

          <form action="" method="post" class="following">
            <h6>You’re following</h6>
            <p><button type="submit" title="Following"><span>Unfollow</span></button></p>
          </form>
        </section>
      </section>
    </li>
  </ul>
</section>

<section class="toggle">
  <h2>Toggle</h2>
  <ul class="activity-list">
    <li>
      <section class="activity-item" data-slug="pre-order-a-new-book-by-matthew-manos-of-verynice" data-spam="false" data-title="Pre-order a new book by Matthew Manos (of verynice)">
        <p class="source has-image">
          <a href="member.html">
            <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fimage-cache.good.is%2Favatars%2F1851962%2Foriginal%2FMatt2.jpeg%3F1346285103&amp;geometry=60x60%23" alt="" width="60" height="60" />
            Matthew Manos
          </a>
          did this
        </p>
        <p class="time">
          <time datetime="2013-12-16T01:09:57Z">
            <abbr title="3 weeks ago">
              3 w
            </abbr>
          </time>
        </p>
        <section class="post do">
          <h3 class=" has-image">
            <a href="post.html">
              <span class="image">
                <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Factions%2Fphotos%2F000%2F256%2F362%2Foriginal%2F20130907153915-IndieGoGo_Cover.jpg&amp;geometry=100x100%23" alt="" width="100" height="100" />
              </span>
              Pre-order a new book by Matthew Manos (of verynice)
            </a>
          </h3>
          <div class="meta">
            <p class="dos">
              <abbr title="4 people want to do this">
                4
              </abbr>
            </p>
          </div>
          <form action="" method="post"class="doing">
            <h6>To Do</h6>
            <div>
              <p><button type="submit">Done</button></p>
              <p class="done"><button type="submit">Remove</button></p>
            </div>
          </form>
        </section>
      </section>
    </li>
    <li>
      <section class="activity-item">
        <p class="source has-image">
          <a href="member.html"><img src="http://images-3.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F860%2F698%2Foriginal%2FAttachment-1.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"> Adele Peters</a> is now following…
        </p>
        <p class="time">
          <time datetime="2013-12-16T22:46:27Z">
            <abbr title="5 weeks ago">5 w</abbr>
          </time>
        </p>
        <section class="follow">
          <h3 class="has-image">
            <a href="/members/kcrepeau"><span class="image"><img src="http://images-2.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F127%2F174%2Foriginal%2FKatie_18_sq.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"></span> Katie Crepeau</a>
          </h3>
          <div class="meta">
            <p>32 Followers</p>
          </div>
          <p class="introduction">architect, blogger, health nut, happiness builder</p>

          <form action="" method="post" class="following">
            <h6>Following</h6>
            <div>
              <p><button type="submit">Unfollow</button></p>
            </div>
          </form>
        </section>
      </section>
    </li>
  </ul>
</section>

<section class="cycle">
  <h2>Cycle</h2>
  <ul class="activity-list">
    <li>
      <section class="activity-item" data-slug="pre-order-a-new-book-by-matthew-manos-of-verynice" data-spam="false" data-title="Pre-order a new book by Matthew Manos (of verynice)">
        <p class="source has-image">
          <a href="member.html">
            <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fimage-cache.good.is%2Favatars%2F1851962%2Foriginal%2FMatt2.jpeg%3F1346285103&amp;geometry=60x60%23" alt="" width="60" height="60" />
            Matthew Manos
          </a>
          did this
        </p>
        <p class="time">
          <time datetime="2013-12-16T01:09:57Z">
            <abbr title="3 weeks ago">
              3 w
            </abbr>
          </time>
        </p>
        <section class="post do">
          <h3 class=" has-image">
            <a href="post.html">
              <span class="image">
                <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Factions%2Fphotos%2F000%2F256%2F362%2Foriginal%2F20130907153915-IndieGoGo_Cover.jpg&amp;geometry=100x100%23" alt="" width="100" height="100" />
              </span>
              Pre-order a new book by Matthew Manos (of verynice)
            </a>
          </h3>
          <div class="meta">
            <p class="dos">
              <abbr title="4 people want to do this">
                4
              </abbr>
            </p>
          </div>
          <form action="" method="post" class="doing">
            <p><button type="submit">To Do</button></p>
          </form>
        </section>
      </section>
    </li>
    <li>
      <section class="activity-item">
        <p class="source has-image">
          <a href="member.html"><img src="http://images-3.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F860%2F698%2Foriginal%2FAttachment-1.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"> Adele Peters</a> is now following…
        </p>
        <p class="time">
          <time datetime="2013-12-16T22:46:27Z">
            <abbr title="5 weeks ago">5 w</abbr>
          </time>
        </p>
        <section class="follow">
          <h3 class="has-image">
            <a href="/members/kcrepeau"><span class="image"><img src="http://images-2.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F127%2F174%2Foriginal%2FKatie_18_sq.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"></span> Katie Crepeau</a>
          </h3>
          <div class="meta">
            <p>32 Followers</p>
          </div>
          <p class="introduction">architect, blogger, health nut, happiness builder</p>

          <form action="" method="post" class="following">
            <p><button type="submit">Following</button></p>
          </form>
        </section>
      </section>
    </li>
  </ul>
</section>

<section>
  <h2>Headlines</h2>
  <ul class="activity-list">
    <li>
      <section class="activity-item" data-slug="pre-order-a-new-book-by-matthew-manos-of-verynice" data-spam="false" data-title="Pre-order a new book by Matthew Manos (of verynice)">
        <p class="source has-image">
          <a href="member.html">
            <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fimage-cache.good.is%2Favatars%2F1851962%2Foriginal%2FMatt2.jpeg%3F1346285103&amp;geometry=60x60%23" alt="" width="60" height="60" />
            Matthew Manos
          </a>
          did this
        </p>
        <p class="time">
          <time datetime="2013-12-16T01:09:57Z">
            <abbr title="3 weeks ago">
              3 w
            </abbr>
          </time>
        </p>
        <section class="post do">
          <h3 class=" has-image">
            <a href="post.html">
              <span class="image">
                <img src="http:&#47;&#47;images-2.good.is&#47;albums&#47;crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Factions%2Fphotos%2F000%2F256%2F362%2Foriginal%2F20130907153915-IndieGoGo_Cover.jpg&amp;geometry=100x100%23" alt="" width="100" height="100" />
              </span>
              Pre-order a new book by Matthew Manos (of verynice)
            </a>
          </h3>
          <div class="meta">
            <p class="dos">
              <abbr title="4 people want to do this">
                4
              </abbr>
            </p>
          </div>
          <form action="" method="post" class="doing">
            <h6>You’re doing this</h6>
            <p><button type="submit" title="To Do"><span>Done</span></button></p>
          </form>
        </section>
      </section>
    </li>
    <li>
      <section class="activity-item">
        <p class="source has-image">
          <a href="member.html"><img src="http://images-3.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F860%2F698%2Foriginal%2FAttachment-1.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"> Adele Peters</a> is now following…
        </p>
        <p class="time">
          <time datetime="2013-12-16T22:46:27Z">
            <abbr title="5 weeks ago">5 w</abbr>
          </time>
        </p>
        <section class="follow">
          <h3 class="has-image">
            <a href="/members/kcrepeau"><span class="image"><img src="http://images-2.good.is/albums/crop?image_url=http%3A%2F%2Fs3.amazonaws.com%2Fproduction.calumet.good.is%2Fusers%2Favatars%2F001%2F127%2F174%2Foriginal%2FKatie_18_sq.jpg&amp;geometry=60x60%23" alt="" width="60" height="60"></span> Katie Crepeau</a>
          </h3>
          <div class="meta">
            <p>32 Followers</p>
          </div>
          <p class="introduction">architect, blogger, health nut, happiness builder</p>

          <form action="" method="post" class="following">
            <h6>You’re following</h6>
            <p><button type="submit" title="Following"><span>Unfollow</span></button></p>
          </form>
        </section>
      </section>
    </li>
  </ul>
</section>

<section class="hover">
  <h2>Hover</h2>

  <form action="" method="post" class="following">
    <h6>You’re following</h6>
    <p><button type="submit" title="Following"><span>Unfollow</span></button></p>
  </form>

  <form action="" method="post" class="doing">
    <h6>You’re doing this</h6>
    <p><button type="submit" title="To Do"><span>Done</span></button></p>
  </form>
</section>

<section class="toggle">
  <h2>Toggle</h2>

  <form action="" method="post" class="following">
    <h6>Following</h6>
    <div>
      <p><button type="submit">Unfollow</button></p>
    </div>
  </form>

  <form action="" method="post"class="doing">
    <h6>To Do</h6>
    <div>
      <p class="done"><button type="submit">Done</button></p>
      <p class="done"><button type="submit">Remove</button></p>
    </div>
  </form>

</section>

<section class="cycle">
  <h2>Cycle</h2>

  <form action="" method="post" class="following">
    <p><button type="submit">Following</button></p>
  </form>

  <form action="" method="post" class="doing">
    <p><button type="submit">To Do</button></p>
  </form>

</section>

<section>
  <h2>Do (with Headlines)</h2>

  <form action="" method="post" class="do">
    <p><button type="submit">Do It</button></p>
  </form>

  <form action="" method="post" class="doing">
    <h6>You’re doing this</h6>
    <p><button type="submit">Done</button></p>
  </form>

  <form action="" method="post" class="done">
    <h6>You did this</h6>
    <p><button type="submit">Undo</button></p>
  </form>
</section>

<section>
  <h2>Follow (with Headlines)</h2>

  <form action="" method="post" class="follow">
    <p><button type="submit">Follow</button></p>
  </form>

  <form action="" method="post" class="following">
    <h6>You’re following</h6>
    <p><button type="submit">Unfollow</button></p>
  </form>
</section>

<script>

(function() {


  /* This starts everything
  ----------------------------------------------- */
  function start() {

    if (!document.querySelector) return;

// OPTIONAL:
    var doing = document.querySelectorAll(".toggle .doing");
    for (var index = 0; index < doing.length; index++) {
      new DropDown(doing[index]);
    }

    var following = document.querySelectorAll(".toggle .following");
    for (var index = 0; index < following.length; index++) {
      new DropDown(following[index]);
    }

  }


  /* =DropDown
  ----------------------------------------------- */
  var DropDown = function() {};

  (function() {

    if (!document.body.addEventListener || !document.querySelector) return;

    function within(needle, haystack) {

      // If the parent element is the target
      if (needle === haystack) {
        return true;

      // If any of the children are the target
      } else if (haystack.firstChild) {
        var child = haystack.firstChild;
        do {
          if (within(needle, child)) return true;
        } while (child = child.nextSibling);
      }

    }

    DropDown = function(element) {

      if (!element) return;

      var headline = element.querySelector("h6");
      if (headline.length > 0) {
        headline = headline[0];
      }

      if (!headline) return;

      var detailsShowing;

      var cancel = document.createElement("a");
      cancel.href="#cancel";
      cancel.textContent = "Cancel";

// KLUDGE: 
      var p = document.createElement("p");
      p.appendChild(cancel);
      element.querySelector("div").appendChild(p);

      function hideDetails() {
        if (element.className.indexOf("summary") < 0) {
          element.className += " summary";
        }
        detailsShowing = false;
      }

      function showDetails() {
        element.className = element.className.replace(/summary/g, "");
        detailsShowing = true;
      }

      function toggle() {
        if (detailsShowing) hideDetails();
        else showDetails();
      }

      hideDetails();

      headline.addEventListener("click", function(e) {
        toggle();
        e.preventDefault();
      }, false);

      cancel.addEventListener("click", function(e) {
        hideDetails();
        e.preventDefault();
      }, false);

      element.className += " scripted";

      document.addEventListener("click", function(e) {
        if (!within(e.target, element)) {
          hideDetails();
        }
      }, false);

    };
      
  })();


  /* Everything is ready, so start it up
  ----------------------------------------------- */
  start();


})();

</script>

<script>
(function() {

  if (!document.body.addEventListener || !document.body.querySelector) return;

/*  =ToggleButton
  ----------------------------------------------- */
  var ToggleButton = function(element, labels, cursor) {

    if (!element) return;

    var button = element.getElementsByTagName("button");
    if (button.length > 0) button = button[0];

    function toggle() {
      element.className = labels[cursor].toLowerCase();
      button.innerHTML = (labels[cursor] === "Doing") ? "To Do" : (labels[cursor] === "Do") ? "Do It" : labels[cursor];
      cursor++;
      if (cursor >= labels.length) cursor = 0;
    }

    element.addEventListener("submit", function(e) { e.preventDefault(); }, false);
    button.addEventListener("click", function(e) {
      toggle();
      e.preventDefault();
    }, false);
  }

  var forms = document.querySelectorAll(".cycle form.following");
  for (var index = 0; index < forms.length; index++) {

    new ToggleButton(forms[index], ["Following", "Follow"], 1);

  }

  var forms = document.querySelectorAll(".cycle form.doing");
  for (var index = 0; index < forms.length; index++) {

    new ToggleButton(forms[index], ["Do", "Doing", "Done"], 2);

  }

})();
</script>

</body>
</html>
